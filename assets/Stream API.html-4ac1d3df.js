import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,f as t}from"./app-1fe20581.js";const e={},p=t(`<h1 id="stream-api的理解与使用" tabindex="-1"><a class="header-anchor" href="#stream-api的理解与使用" aria-hidden="true">#</a> Stream API的理解与使用</h1><p>流表示包含着一系列<code>元素的集合</code>，可以对其做不同类型的操作，用来对这些元素执行计算</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> myList <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;a1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myList
    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 创建流</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 执行过滤，过滤出以 c 为前缀的字符串</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">toUpperCase</span><span class="token punctuation">)</span> <span class="token comment">// 转换成大写</span>
    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 排序</span>
    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// for 循环打印</span>

<span class="token comment">// C1</span>
<span class="token comment">// C2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Stream执行流程</p><ul><li>Stream的实例化</li><li>一系列中间操作（过滤，映射、......）</li><li>终止操作</li></ul><p>中间操作与终端操作:</p><ol><li>中间操作会再次返回一个流，所以可以链接多个中间操作，上述代码中的 filter 过滤，map 对象转换，sorted 排序，就属于中间操作。</li><li>终端操作是对流操作的一个结束动作，一般返回 <code>void</code> 或者一个<code>非流的结果</code>。上述代码中的 forEach循环 就是一个终止操作。</li></ol><p>大部分流操作都支持 <code>lambda</code> 表达式作为参数，应该说是接受一个函数式接口的实现作为参数。</p><h2 id="不同类型的-stream-流" tabindex="-1"><a class="header-anchor" href="#不同类型的-stream-流" aria-hidden="true">#</a> 不同类型的 Stream 流</h2><p>流按对象类型可分为 <code>原始流</code> 和 <code>对象流</code></p><p>可以从各种数据源中创建 Stream 流，其中以 <code>Collection</code> 集合最为常见。如 <code>List</code> 和 <code>Set</code> 均支持 <code>stream()</code> 方法来创建顺序流或者是并行流。</p><blockquote><p>并行流与顺序流：并行流是通过多线程的方式来执行的，本文先讨论顺序流</p></blockquote><h3 id="创建流的方式" tabindex="-1"><a class="header-anchor" href="#创建流的方式" aria-hidden="true">#</a> 创建流的方式</h3><ul><li><code>stream()</code> 方法 通过集合获取 Stream 流</li><li><code>Stream.of()</code> 从一堆对象中创建 Stream 流。</li><li><code>IntStream</code>，<code>LongStream</code>，<code>DoubleStream</code>：特殊类型的流，用于处理原始数据类型int，long以及double</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 创建流</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;a1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 创建流</span>
<span class="token comment">// 创建流</span>
<span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;a1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// a1</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>IntStreams.range()</code>方法还可以被用来取代常规的 for 循环</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 相当于 for (int i = 1; i &lt; 4; i++) {sout}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>原始类型流使用其独有的函数式接口，例如IntFunction代替Function，IntPredicate代替Predicate。</li><li>原始类型流支持额外的终端聚合操作，<code>sum()</code> 以及 <code>average()</code></li></ul><h3 id="原始流和对象流的转换" tabindex="-1"><a class="header-anchor" href="#原始流和对象流的转换" aria-hidden="true">#</a> 原始流和对象流的转换</h3><ol><li><p>将常规对象流转换为原始类型流：<br><code>mapToInt()</code>，<code>mapToLong()</code>，<code>mapToDouble</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;a1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a3&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 对每个字符串元素从下标1位置开始截取</span>
    <span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span> <span class="token comment">// 转成 int 基础类型类型流</span>
    <span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 取最大值</span>
    <span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 不为空则输出</span>

<span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>原始类型流装换成对象流<br><code>mapToObj()</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">mapToObj</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token comment">// for 循环 1-&gt;4, 拼接前缀 a</span>
 <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// for 循环打印</span>
 <span class="token comment">// a1</span>
 <span class="token comment">// a2</span>
 <span class="token comment">// a3 </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="stream-流的处理顺序" tabindex="-1"><a class="header-anchor" href="#stream-流的处理顺序" aria-hidden="true">#</a> Stream 流的处理顺序</h2>`,21),o=[p];function c(l,i){return s(),a("div",null,o)}const d=n(e,[["render",c],["__file","Stream API.html.vue"]]);export{d as default};
